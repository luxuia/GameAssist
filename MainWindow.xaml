<Window x:Class="GameAssist.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GameAssist"
        mc:Ignorable="d"
        Title="Dota 2 Game Assistant" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#F0F4F8">
    <Window.Resources>
        <Style x:Key="HeaderStyle" TargetType="Border">
            <Setter Property="Background" Value="#2C3E50"/>
            <Setter Property="Padding" Value="15"/>
        </Style>

        <Style x:Key="TitleStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>

        <Style x:Key="StatusStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#ECF0F1"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>

        <Style x:Key="ButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <Style x:Key="StartButton" TargetType="Button" BasedOn="{StaticResource ButtonStyle}">
            <Setter Property="Background" Value="#27AE60"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="StopButton" TargetType="Button" BasedOn="{StaticResource ButtonStyle}">
            <Setter Property="Background" Value="#E74C3C"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="CaptureButton" TargetType="Button" BasedOn="{StaticResource ButtonStyle}">
            <Setter Property="Background" Value="#3498DB"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="SettingsButton" TargetType="Button" BasedOn="{StaticResource ButtonStyle}">
            <Setter Property="Background" Value="#95A5A6"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="UploadButton" TargetType="Button" BasedOn="{StaticResource ButtonStyle}">
            <Setter Property="Background" Value="#9B59B6"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <Style x:Key="GroupBoxStyle" TargetType="GroupBox">
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="10"/>
        </Style>

        <Style x:Key="Dota2ActiveStyle" TargetType="Ellipse">
            <Setter Property="Width" Value="12"/>
            <Setter Property="Height" Value="12"/>
            <Setter Property="Fill" Value="#27AE60"/>
            <Setter Property="Margin" Value="5,0"/>
        </Style>

        <Style x:Key="Dota2InactiveStyle" TargetType="Ellipse">
            <Setter Property="Width" Value="12"/>
            <Setter Property="Height" Value="12"/>
            <Setter Property="Fill" Value="#E74C3C"/>
            <Setter Property="Margin" Value="5,0"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Style="{StaticResource HeaderStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="Dota 2 Game Assistant" Style="{StaticResource TitleStyle}"/>
                    <TextBlock Text="|" Margin="10,0" Style="{StaticResource StatusStyle}"/>
                    <TextBlock x:Name="StatusText" Text="Ready" Style="{StaticResource StatusStyle}" VerticalAlignment="Center"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Ellipse x:Name="Dota2Indicator" Style="{StaticResource Dota2InactiveStyle}"/>
                    <TextBlock Text="Dota 2" Style="{StaticResource StatusStyle}" VerticalAlignment="Center" Margin="0,0,20,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Screenshot Preview -->
            <GroupBox Grid.Column="0" Header="Screenshot Preview" Style="{StaticResource GroupBoxStyle}">
                <Grid>
                    <Border Background="#E8E8E8" BorderBrush="#CCCCCC" BorderThickness="1">
                        <Image x:Name="PreviewImage" Stretch="Uniform" Margin="5"/>
                    </Border>
                    <TextBlock x:Name="NoPreviewText" Text="No screenshot yet"
                               HorizontalAlignment="Center" VerticalAlignment="Center"
                               Foreground="#999999" IsEnabled="False"/>
                </Grid>
            </GroupBox>

            <!-- Suggestions -->
            <GroupBox Grid.Column="1" Header="AI Suggestions" Style="{StaticResource GroupBoxStyle}">
                <Grid>
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <TextBlock x:Name="SuggestionText" TextWrapping="Wrap"
                                   Padding="10" FontSize="14" LineHeight="22"
                                   Text="No suggestions yet. Start the assistant and capture a screenshot."
                                   Foreground="#2C3E50"/>
                    </ScrollViewer>
                </Grid>
            </GroupBox>
        </Grid>

        <!-- Footer -->
        <Border Grid.Row="2" Background="#ECF0F1" Padding="15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Info -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="Captures: " Foreground="#7F8C8D"/>
                    <TextBlock x:Name="CaptureCount" Text="0" Foreground="#2C3E50" FontWeight="Bold"/>
                    <TextBlock Text="   Last capture: " Margin="20,0,0,0" Foreground="#7F8C8D"/>
                    <TextBlock x:Name="LastCaptureTime" Text="Never" Foreground="#2C3E50" FontWeight="Bold"/>
                </StackPanel>

                <!-- Buttons -->
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="StartButton" Content="Start" Style="{StaticResource StartButton}" Click="StartButton_Click"/>
                    <Button x:Name="StopButton" Content="Stop" Style="{StaticResource StopButton}" Click="StopButton_Click" IsEnabled="False"/>
                    <Button x:Name="CaptureButton" Content="Capture Now" Style="{StaticResource CaptureButton}" Click="CaptureButton_Click"/>
                    <Button x:Name="UploadButton" Content="Upload Screenshot" Style="{StaticResource UploadButton}" Click="UploadButton_Click"/>
                    <Button x:Name="ShowOverlayButton" Content="Show Overlay" Style="{StaticResource UploadButton}" Click="ShowOverlayButton_Click" IsEnabled="True"/>
                    <Button x:Name="SettingsButton" Content="Settings" Style="{StaticResource SettingsButton}" Click="SettingsButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
